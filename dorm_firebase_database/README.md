# dorm_firebase_database

[![pub package](https://img.shields.io/pub/v/dorm_firebase_database.svg?label=dorm_firebase_database)](https://pub.dev/packages/dorm_firebase_database)
[![pub popularity](https://img.shields.io/pub/popularity/dorm_firebase_database?logo=dart)](https://pub.dev/packages/dorm_firebase_database)
[![pub likes](https://img.shields.io/pub/likes/dorm_firebase_database?logo=dart)](https://pub.dev/packages/dorm_firebase_database)
[![pub points](https://img.shields.io/pub/points/dorm_firebase_database?logo=dart)](https://pub.dev/packages/dorm_firebase_database)

A dORM's database engine implementation using the
[`firebase_database` package](https://pub.dev/packages/firebase_database).

## Getting started

Run the following commands in your command prompt:

```shell
dart pub add dorm_firebase_database
```

Using [`dorm_annotations`](https://pub.dev/packages/dorm_annotations) and
[`dorm_generator`](https://pub.dev/packages/dorm_generator), generate your dORM code:

```shell
dart run build_runner build
```

This will create a `Dorm` class, which you can use to connect to this package.

## Usage

Before accessing any Firebase classes, initialize your app:

```dart
void main() async {
  await Firebase.initializeApp();

  // Alternatively, if you're working with non-default apps
  await Firebase.initializeApp(name: 'app-1');

  // You can also pass the `options` parameter with the options generated by FlutterFire
  await Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);
}
```

Create a `FirebaseInstance`, a class that manages your current Firebase app:

```dart
void main() {
  const FirebaseInstance instance = FirebaseInstance();

  // Alternatively, if you're working with non-default apps
  final FirebaseInstance instance = FirebaseInstance.custom(Firebase.app('app-1'));

  // You can also to control the offline management, through `offlineMode`
  const FirebaseInstance instance = FirebaseInstance(offlineMode: OfflineMode.include);
}
```

With this instance, create a `Reference`:

```dart
void main() {
  final Reference reference = Reference(instance);

// Alternatively, if you want to create your database under 'production/'
  final Reference reference = Reference(instance, 'production');
}
```

Finally, pass the reference created above to your generated `Dorm` class:

```dart
void main() {
  final Dorm dorm = Dorm(reference);
}
```
