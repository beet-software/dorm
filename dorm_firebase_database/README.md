# dorm_firebase_database

A dORM's Reference implementation using `firebase_database`.

## Features

This package exposes two classes - `FirebaseQuery` and `FirebaseReference` - to use with dORM if
your application needs the [`firebase_database` package](https://pub.dev/packages/firebase_database).
It also exposes a `FirebaseInstance` class to manage the current Firebase app.

## Getting started

Add the following in your *pubspec.yaml* file:

```yaml
dependencies:
  firebase_core:
  dorm_firebase_database:
```

## Usage

### Initializing

Before accessing any Firebase classes, initialize your app:

```dart
void main() async {
  await Firebase.initializeApp();

  // Alternatively, if you're working with non-default apps
  await Firebase.initializeApp(name: 'app-1');

  // You can also pass the `options` parameter with the options generated by FlutterFire
  await Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);
}
```

### Accessing

First create a `FirebaseInstance`, a class that manages your current Firebase app:

```dart
const FirebaseInstance instance = FirebaseInstance();

// Alternatively, if you're working with non-default apps
final FirebaseInstance instance = FirebaseInstance.custom(Firebase.app('app-1'));

// You can also to control the offline management, through `offlineMode`
const FirebaseInstance instance = FirebaseInstance(offlineMode: OfflineMode.include);
```

With this instance, create a `FirebaseReference`:

```dart
final FirebaseReference reference = FirebaseReference(instance);

// Alternatively, if you want to create your database under 'production/'
final FirebaseReference reference = FirebaseReference(instance, 'production');
```

### Integrating with dORM

Pass the reference created above to your generated `Dorm` class:

```dart
final Dorm dorm = Dorm(reference);
```
